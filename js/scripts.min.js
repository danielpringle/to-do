"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var taskForm=document.querySelector("form"),ul=document.querySelector("ul"),clearAllButton=document.querySelector("button"),input=document.getElementById("item"),itemsArray=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[];localStorage.setItem("items",JSON.stringify(itemsArray));var data=JSON.parse(localStorage.getItem("items"));clearAllButton.className="clear-all",taskForm.className="todo-form";var percentage=function(){var totalTasks=document.querySelectorAll("li").length,progress=document.querySelectorAll("li .completed").length,progress=Math.floor(progress/totalTasks*100);0<totalTasks?(document.getElementById("task-progress").innerHTML="".concat(progress,"%"),document.getElementById("task-progress").style.width="".concat(progress,"%")):(document.getElementById("task-progress").innerHTML="",document.getElementById("task-progress").style.width="0%")};percentage();var taskLi=function(text){var li=document.createElement("li"),containers=document.createElement("button"),checkbox=document.createElement("input"),draggables=document.createElement("label"),label=document.createElement("label"),labelText=document.createElement("span");li.setAttribute("draggable","true"),li.className="draggable",ul.className="dropzone",li.setAttribute("draggable","true"),li.className="draggable",ul.className="dropzone",draggables.className="container",label.className="newcheckmark",containers.className="delete",containers.innerHTML='<ion-icon name="trash"></ion-icon>',labelText.textContent=text,containers.addEventListener("click",function(e){e.target.closest("li").remove(),percentage()});for(var i=0;i<itemsArray.length;i+=1)checkbox.type="checkbox",checkbox.name="todo",checkbox.value="value",checkbox.id="todo".concat(i),label.htmlFor="todo".concat(i),li.id="".concat(i);checkbox.addEventListener("click",function(){this.parentNode.classList.toggle("completed"),percentage()}),ul.appendChild(li),li.appendChild(draggables),draggables.appendChild(checkbox),draggables.appendChild(label),draggables.appendChild(labelText),draggables.appendChild(containers);draggables=document.querySelectorAll(".draggable"),containers=document.querySelectorAll(".dropzone");draggables.forEach(function(draggable){draggable.addEventListener("dragstart",function(){draggable.classList.add("dragging")}),draggable.addEventListener("dragend",function(){draggable.classList.remove("dragging")})}),containers.forEach(function(container){container.addEventListener("dragover",function(draggable){draggable.preventDefault();var afterElement=function(container,y){return _toConsumableArray(container.querySelectorAll(".draggable:not(.dragging)")).reduce(function(closest,child){var offset=child.getBoundingClientRect(),offset=y-offset.top-offset.height/2;return offset<0&&offset>closest.offset?{offset:offset,element:child}:closest},{offset:Number.NEGATIVE_INFINITY}).element}(container,draggable.clientY),draggable=document.querySelector(".dragging");null==afterElement?container.appendChild(draggable):container.insertBefore(draggable,afterElement)})})};function addTask(e){e.preventDefault(),itemsArray.push(input.value),localStorage.setItem("items",JSON.stringify(itemsArray)),taskLi(input.value),input.value=""}function removeAllTasks(){for(localStorage.clear();ul.firstChild;)ul.removeChild(ul.firstChild);itemsArray=[],percentage()}function beDate(){var displayMonth=new Date,formattedDate=displayMonth.getFullYear(),date=displayMonth.getDate(),formattedDay=new Array(7);formattedDay[0]="Sunday",formattedDay[1]="Monday",formattedDay[2]="Tuesday",formattedDay[3]="Wednesday",formattedDay[4]="Thursday",formattedDay[5]="Friday",formattedDay[6]="Saturday";var months=new Array(12);months[0]="January",months[1]="February",months[2]="March",months[3]="April",months[4]="May",months[5]="June",months[6]="July",months[7]="August",months[8]="September",months[9]="October",months[10]="November",months[11]="December";formattedDay=formattedDay[displayMonth.getDay()],displayMonth=months[displayMonth.getMonth()],formattedDay="".concat(formattedDay),formattedDate="".concat(displayMonth," ").concat(date," ").concat(formattedDate);document.getElementById("display-day").innerHTML=formattedDay,document.getElementById("display-date").innerHTML=formattedDate}function beCurrentTime(){var m=new Date,x=document.getElementById("display-time"),h=(m.getHours()<10?"0":"")+m.getHours(),m=(m.getMinutes()<10?"0":"")+m.getMinutes();x.innerHTML="".concat(h,":").concat(m)}taskForm.addEventListener("submit",addTask),data.forEach(function(item){taskLi(item)}),clearAllButton.addEventListener("click",removeAllTasks),beDate(),beCurrentTime(),setInterval(function(){beCurrentTime()},1e3);